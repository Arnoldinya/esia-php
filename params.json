{
  "name": "Esia",
  "tagline": "Компонент для авторизации на портале \"Госуслуги\" (ЕСИА)",
  "body": "\r\n# Единая система идентификации и аутентификации (ЕСИА) OpenId \r\n\r\n[![Build Status](https://travis-ci.org/fr05t1k/esia.svg?branch=master)](https://travis-ci.org/fr05t1k/esia)\r\n\r\n# Описание\r\nКомпонент для авторизации на портале \"Госуслуги\"\r\n\r\n# Установка\r\n\r\nПри помощи [composer](https://getcomposer.org/download/):\r\n```\r\ncomposer require --prefer-dist fr05t1k/esia\r\n```\r\nИли добавьте в composer.json\r\n\r\n```\r\n\"fr05t1k/esia\" : \"dev-master\"\r\n```\r\n\r\n# Как использовать \r\n\r\nПример получения ссылки для авторизации\r\n```\r\n<?php \r\n$config = [\r\n   'clientId' => 'INSP03211',\r\n   'redirectUrl' => 'http://my-site.com/response.php',\r\n   'portalUrl' => 'https://esia-portal1.test.gosuslugi.ru/',\r\n   'privateKeyPath' => 'my-site.com.pem',\r\n   'privateKeyPassword' => 'my-site.com',\r\n   'certPath' => 'my-site.com.pem',\r\n   'tmpPath' => 'tmp',\r\n];\r\n\r\n$esia = new \\esia\\OpenId($config);\r\n?>\r\n\r\n<a href=\"<?=$esia->getUrl()?>Войти через портал госуслуги</a>\"\r\n```\r\n\r\nПосле редиректа на ваш `redirectUrl` вы получите в `$_GET['code']` код для получения токена\r\n\r\nПример получения токена и информации о пользователе\r\n\r\n```\r\n\r\n$esia = new \\esia\\OpenId($config);\r\n\r\n$esia->getToken($_GET['code']);\r\n\r\n$personInfo = $esia->getPersonInfo();\r\n$addressInfo = $esia->getAddressInfo();\r\n$contactInfo = $esia->getContactInfo();\r\n\r\n```\r\n# Конфиг\r\n\r\n`clientId` - ID вашего приложения.\r\n\r\n`redirectUrl` - URL куда будет перенаправлен ответ с кодом.\r\n\r\n`portalUrl` - по умолчанию: `https://esia-portal1.test.gosuslugi.ru/`. Домен портала для авторизация (только домен).\r\n\r\n`codeUrl` - по умолчанию: `aas/oauth2/ac`. URL для получения кода.\r\n\r\n`tokenUrl` - по умолчанию: `aas/oauth2/te`. URL для получение токена.\r\n\r\n`scope` - по умолчанию: `http://esia.gosuslugi.ru/usr_inf`. Запрашиваемые права у пользователя.\r\n\r\n`privateKeyPath` - путь до приватного ключа.\r\n\r\n`privateKeyPassword` - пароль от приватного ключа.\r\n\r\n`certPath` - путь до сертификата.\r\n\r\n`tmpPath` - путь до дериктории где будет проходить подпись (должна быть доступна для записи).\r\n\r\n`log` - callable с одни параметром $message, в который будет передаваться сообщения лога.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}